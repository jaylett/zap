<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<!-- $Id: faq.html,v 1.2 2001/07/23 16:14:13 james Exp $ -->

<HEAD>
 <TITLE>Zap FAQs</TITLE>
 <LINK REL=Stylesheet HREF="/style/main.css" TYPE="text/css">
 <LINK REL=Author HREF="mailto:webmaster@zap.tartarus.org">
 <LINK REL=Copyright HREF="/copyright.html">
 <META NAME=Description CONTENT="Zap is a configurable programmers' editor for Acorn RiscOS">
 <META NAME=Keywords CONTENT="Zap, editor, text editor, Acorn, Risc OS, Tim Tyler, Darren Salt, Martin Ebourne, Dominic Symes, James Aylett">
</HEAD>

<BODY BACKGROUND="/img/background.gif"
      TEXT="#000000"
      BGCOLOR="#DCDCDC"
      LINK="#20209F"
      VLINK="#008000"
      ALINK="#FF2020">

<CENTER>
<IMG ALT="Site map" SRC="/img/zapbar.gif" BORDER=0 USEMAP="#map" WIDTH=600 HEIGHT=82>
</CENTER>

<h1 align=center>Zap 1.44 FAQ</h1>

<P>
<EM>This FAQ covers common issues raised by the current version of Zap only - it is not intended to be a general Zap FAQ.</EM>. Answers to many of the frequently asked questions about Zap are addressed in the relevant !Help files. This document does not attempt to address questions such as &quot;Can I get a program like Zap for other operating-systems?&quot; either.
</P>

<P>
If you don't understand any answer we've given in this FAQ, please ask. If you think that we've missed out some important question, tell us. Your feedback is needed to help us to further improve this FAQ.
</P>

<OL>
<LI><a HRef="#q01">Where can this FAQ be obtained?</a></LI>
<LI><a HRef="#q02">Where can Zap be downloaded?</a></LI>
<LI><a HRef="#q03">Why doesn't OLE from Fresco work?</a></LI>
<LI><a HRef="#q04">OLE now works, but why does it give errors messages?</a></LI>
<LI><a HRef="#q05">Why does !Edit gets loaded these days and not !Zap?</a></LI>
<LI><a HRef="#q06">Will other programs which use <EM>ZapRedraw</EM> work OK?</a></LI>
<LI><a HRef="#q07">Where do configuration files live these days?</a></LI>
<LI><a HRef="#q08">Can I use my old configuration with the new version?</a></LI>
<LI><a HRef="#q09">Upgrading configuration from v1.40 to v1.44</a></LI>
<LI><a HRef="#q10">Upgrading configuration from v1.35 or earlier to v1.44</a></LI>
<LI><a HRef="#q11">Why isn't 'HidePtr' loaded with Zap these days?</a></LI>
<LI><a HRef="#q12">SoftWrap mode is missing! What have you done with it?</a></LI>
<LI><a HRef="#q13">Why does Zap sometimes fail to take notice of <EM>Shift</EM> and <EM>Ctrl</EM>?</a></LI>
<LI><a HRef="#q14">I hear Zap has a problems when run on the A7000+?</a></LI>
<LI><a HRef="#q15">Why doesn't OLE from ArcWeb work?</a></LI>
<LI><a href="#q16">Why are the font menus on the iconbar greyed out?</a></LI>
<LI><a HRef="#q17">Zap extension &lt;x&gt; isn't included - can I plug it in?</a></LI>
<LI><a HRef="#q18">What are the recent changes?</a></LI>
<LI><a HRef="#q19">What is planned for future versions?</a></LI>
<LI><a HRef="#q20">Is there a list of known bugs somewhere?</a></LI>
<LI><a HRef="#q21">Are there mailing lists where people discuss Zap?</a></LI>
<LI><a HRef="#q22">I've found a bug! What should I do?</a></LI>
</OL>

<OL>

<LI><H3><a name="q01">Where can this FAQ be obtained?</a></H3>

<P>
It normally resides at <A HREF="http://www.zap.tartarus.org/faq.html">http://www.zap.tartarus.org/faq.html</A> and it is included in the main distribution as <code>!Zap.Docs.FAQ</code>.
</P>

<LI><H3><a name="q02">Where can Zap be downloaded?</a></H3>

<P>
<A HREF="http://www.zap.tartarus.org/">http://www.zap.tartarus.org/</A> is the main Zap web site. <A HREF="ftp://zap.tartarus.org/">ftp://zap.tartarus.org</A> is the main Zap ftp site.
</P>

<LI><H3><a name="q03">Why doesn't OLE from Fresco work?</a></H3>

<P>
If you tick <code>Options.Misc.Be Tolerant</code> in <EM>Zap's</EM> icon bar menu then it will work. This is necessary because <EM>Fresco</EM> supports a slightly unorthodox variant of the OLE protocol.
</P>

<LI><H3><a name="q04">OLE now works, but why does it give errors messages?</a></H3>

<P>
They're as unobtrusive warnings as is possible. It is felt that some kind of warning is necessary otherwise programmers might not notice that their programs have problems which will cause them to fail to work properly with some existing OLE clients.
</P>

<LI><H3><a name="q05">Why does Edit gets loaded these days and not Zap?</a></H3>

<P>
When <EM>Zap</EM> gets booted by the filer it no longer claims shift-double-clicks on files, text files, task windows, OLE, or 'external edits', if these have been claimed by another application.
</P>

<P>
The simplest solution to the problem of <EM>Edit</EM> loading is simply not to boot <EM>Edit</EM> in the first place. Unfortunately, on machines with <EM>Edit</EM> in ROM, this may not be a simple process.
</P>

<P>
As a consequence of this difficulty in uninstalling <EM>Edit</EM>, an '<EM>Obey</EM>' file is provided which 'unboots' any other editors which the filer has seen.
</P>

<P>
There is a call to this file at the top of <CODE>ZapUser:Config.!ZapBoot</CODE>. It is commented out by default.
</P>

<P>
Some applications have been known to start up the resident text editor manually and the method used does not always work with this version of Zap.  Sometimes contacting the author of the application can resolve such matters.
</P>

<LI><H3><a name="q06">Will other programs which use ZapRedraw work OK?</a></H3>

<P>
There are no know problems with ZapRedraw; however, since v1.40 of Zap, bitmap fonts have lived in the <CODE>!ZapFonts</CODE> resource application rather than within the <CODE>!Zap</CODE> application itself, and older programs may not recognise this change. It has been in place for a while now, so recent programs should be fine.
</P>

<P>
There appear to have been some problems with people using multiple copies of ZapFonts on their system - sometimes the one which gets booted first does not contain all the expected fonts.  ZapFonts is intended to be a central resource and it is best to ensure that you maintain a central copy of it; <CODE>$.!Boot.Resources</CODE> is a good place to put it.
</P>

<LI><h3><a name="q07">Where do configuration files live these days?</a></h3>

<P>
In the <CODE>ZapUser:Config</CODE> directory. All files which might need to be edited are now stored there. The idea is that you keep your copy of <CODE>!ZapUser</CODE>, and upgrade Zap simply by using in the new <CODE>!Zap</CODE> application instead of the old one (and probably upgrading <CODE>!ZapFonts</CODE> at the same time).
</P>

<LI><H3><a name="q08">Can I use my old configuration with the new version?</a></H3>

<P>
If you were previously using v1.40 of Zap, you can keep on using your <CODE>!ZapUser</CODE> configuration. Note, however, that you won't get all the benefit of the latest version unless you upgrade your configuration at the same time as Zap; see <a href="#q09">question 9</a> below.
</P>

<P>
If you are upgrading from version v1.35 or earlier, you will need to use the copy of <CODE>!ZapUser</CODE> supplied with the new version of Zap, and merge your old configuration with it. See <a href="#q10">question 10</a> below for more information on how to do this. Note also that information about extensions does not need to be added by hand any more; and also, that extensions from v1.35 almost certainly won't work with v1.44. (However there are no extensions we know of that do not have recent versions that <EM>will</EM> work with v1.44.)
</P>

<LI><H3><a name="q09">Upgrading configuration from v1.40 to v1.44</a></H3>

<P>
From v1.40 onwards, all configuration lives in <CODE>ZapUser:Config</CODE>. In general, most of these files do not change from version to version, and so you don't need to worry about updating them. For v1.40 to v1.45, the following changes need to be made:
</P>

<UL>
<LI><CODE>!ZapBoot</CODE> has changed substantially; it is suggested that you copy the new version over and make any changed you need. In practice, you are unlikely to have changed anything, except perhaps the file type claims (lines such as <CODE>ZapRunType FFF</CODE>).

<LI><CODE>!ZapRun</CODE> has changed substantially to support internationalisation; it is suggested that you copy the new version over and make any changes you need. In practice, the only parts you are likely to have changed are the templates set, and perhaps the file type claims. Note that some template sets haven't been updated for v1.44, and so aren't supplied any more (and see <a href="#q14">question 14</a>). In addition, note that the old system variables <CODE>Zap$HelpPath_&lt;mode&gt;</CODE> are no longer required.

<LI><CODE>Country</CODE> has been added to support internationalisation; it can be used to override your system country. You should copy this file over, and edit it if you need to set your country explicitly.

<LI><CODE>Settings</CODE> has had two variables added. &amp;322 can be used to specify a command to execute on startup, and &amp;323 specifies the default mode. See the manual for more information.

<LI>A directory <CODE>TMFs</CODE> has been added. You should copy this across. TMFs are files that set per-mode variables, used to make some commands and operations more configurable. See the manual for more information.

<LI>The <CODE>Keys</CODE> file has changed significantly; firstly, the method of specifying alternate keymaps has changed from using &amp;400 variables in a block, to using &amp;800 variables immediately before the keymap in question, to declare them. Secondly, support for country-specific <CODE>Keys</CODE> files has been added; instead of a single file, you should have a directory, <CODE>ZapUser:Config.Keys</CODE>, containing a file for each country (eg: <CODE>ZapUser:Config.Keys.UK</CODE>, <CODE>ZapUser:Config.Keys.France</CODE>).<BR>

Unless you made significant alterations to your keys file, we suggest that you copy in the new keys directory and make any changes you need. Alternatively, move your current <CODE>ZapUser:Config.Keys</CODE> to <CODE>ZapUser:Config.Keys.UK</CODE> (or another country name, as appropriate), and edit it to use the new file format.<BR>

See the manual for more information about internationalisation, and about the new <CODE>Keys</CODE> file format.

<LI>The <CODE>Menus</CODE> file has also become internationalised, in the same way. In addition, we now generate menus files from a source format which allows you to name menus instead of referring to them by number. Further, areas of the source file can be made optional - the idea is that more or less everyone can use the same source file, while still being able to configure things a fair amount. We strongly suggest that, if you don't like the new default menus, you copy the new menus directory, look at, and possibly edit, the appropriate source file (they are supplied in the directory <CODE>ZapUser:Config.Menus.Source</CODE>), and generate your menus file from that.<BR>

See the manual for more information about internationalisation, and about the new <CODE>Menus</CODE> source format, and the method for generating the final file from source.

</UL>

<LI><H3><a name="q10">Upgrading configuration from v1.35 or earlier to v1.44</a></H3>

<P>
Up to version 1.35, configuration of Zap lived in three files: <CODE>!Zap.!Config</CODE>, <CODE>!Zap.Menus</CODE>, and <CODE>!Zap.Keys</CODE>. Since then, all configuration has lived inside a new application directory, <CODE>!ZapUser</CODE>. We strongly advise that you try the new configuration as it stands, simply copying <CODE>!Zap.!Config</CODE> to <CODE>ZapUser:Config.!Config</CODE>, to preserve editing and display configuration.</P>

<P>
(Note that if you do this, however, many of Zap's newer features will not be enabled - you would be advised to spend some time looking through the menus and playing with the new options, or to browse either the Changes file, supplied as <CODE>ZapResources:Docs.Changes</CODE>, or the entire manual, to get an idea of what Zap is now capable of.)
</P>

<P>
If you choose to copy your configuration across, you will need to install the <CODE>!ZapUser</CODE> application directory that comes with the new version of Zap, and then copy individual files. Note, however, that the old <CODE>Keys</CODE> file has been split into several different files: <CODE>Keys</CODE>, <CODE>Settings</CODE>, <CODE>TypesHigh</CODE> and <CODE>TypesLow</CODE>; and that many things have changed - in particular, many path checks (&amp;500 variables) and filetype checks (&amp;1xxx variables) no longer live in the user configuration, but are stored with the extension that they use.
</P>

<P>
Upgrading configuration by hand from v1.35 or earlier to v1.44 is a long and difficult process. It is far easier to take a fresh v1.44 configuration and adapt that to your needs.
</P>

<P>
Note also that brackets in key definitions are treated slightly differently from <EM>Zap 1.35</EM> - they no longer act as comments.
</P>

<LI><H3><a name="q11">Why isn't 'HidePtr' loaded with Zap these days?</a></H3>

<P>
Because it's not universally popular. Loading it automatically is an <EM>option</EM> available from the <CODE>Options.Misc.Autoload</CODE> menu.
</P>

<LI><H3><a name="q12">SoftWrap mode is missing! What have you done with it?</a></H3>

<P>
There's no <EM>SoftWrap</EM> mode any more because soft-wrap is now a <EM>wrap option</EM> for most modes. As <EM>Text</EM> mode can now perform soft-wrap, there's no longer any need for a separate <EM>SoftWrap</EM> mode.
</P>

<LI><H3><a name="q13">Why does Zap sometimes fail to take notice of Shift and Ctrl?</a></H3>

<p>
Zap must wait until it is told about the keypress before it can attempt to distinguish between various different key combinations which produce the same character codes, eg. Ctrl-A and Shift-Ctrl-A, Return and Shift-Return, Ctrl-H and Backspace.
</P>

<p>
If an application decides that it needs to single-task for even a few seconds, it may happen that you release the keys fractionally too early (Zap thinks that they're not being pressed) or that you press another key before Zap has processed the previous one.
</P>

<p>
(It's worth mentioning that Zap doesn't check for ambiguities where there can be none, eg. when it's told that you've pressed a function key.)
</P>

<p>
The problems can be fixed, for Zap at least, by using the <EM>KeyboardExtend</EM> module, which logs Shift, Ctrl and Alt keypresses and also the key to which they apply.
</P>

<P>
However, there are some applications which do not correctly process the key up/down event (upon which <EM>KeyboardExtend</EM> relies) will cause synchronisation problems. To fix any such problems, simply issue <kbd>*RMReinit KeyboardExtend</kbd>. (The problem apps need to have a more recent claim on EventV in order to be able to cause this problem, which is why that *command fixes the problem; it forces KeyboardExtend to have the more recent claim.)
</P>

<P>Known problem applications and modules:</P>

<table border=0>
 <tr>
  <td valign=top><em>Module:</em>
  <td><samp>386Support 1.90 (14 Sep 1995)</samp>
 <tr>
  <td valign=top><em>Location:</em>
  <td>!PC.DivaRM
 <tr>
  <td valign=top><em>Fix:</em>
  <td>Load into Zap, goto address &amp;3E4 (<code>LDMFD R13!,{R0-R4,R14,PC}^</code>), press <EM>Return</EM>, delete the <code>,R14</code>, press <EM>Return</EM>, then save.
      <br>Other versions may be similarly affected.
</table>

<P></P><!-- Oh I hate MSIE -->

<LI><H3><a name="q14">I hear Zap has a problems when run on the A7000+?</a></H3>

<P>
A7000+s (and <EM>possibly</EM> some other computers), appear to have corrupt versions of some of the ROM fonts, notably <EM>Homerton.Medium.Oblique</EM>. Viewing this can cause the desktop font to be reset to the system font.
</P>

<P>
The template set 'OldStyle' uses some of these, and previously was the default template set for Zap. The default set does not have these problems.
</P>

<LI><H3><a name="q15">Why doesn't <EM>OLE</EM> with <EM>ArcWeb</EM> work?</a></H3>

<P>
It <EM>should</EM> do, but you have to make sure that you save files in the same spot that <EM>ArcWeb</EM> told <EM>Zap</EM> to load them from. If you save them elsewhere, <EM>Zap</EM> dutifully informs <EM>ArcWeb</EM> of this, but it doesn't appear to become aware that the file has moved.
</P>

<LI><H3><a name="q16">Why are the font menus on the iconbar greyed out?</a></H3>

<P>
Currently, it is not possible to configure the fonts that Zap uses from the iconbar menu. If you wish to configure the fonts, you should change the relevant variables in <code>ZapUser:Config.Settings</code>. For more information, please see the relevant section in <A HREF="documentation/manual/Contents.html">the manual</A>.
</P>

<LI><H3><a name="q17">Zap extension &lt;x&gt; isn't included - can I plug it in?</a></H3>

<P>
If it is a extension from v1.40, then it should be available in a version for v1.44 (although most v1.40 extensions will work with v1.44 anyway). Older extensions probably won't work.
</P>

<LI><H3><a name="q18">What are the recent changes?</a></H3>

<P>
The changes since the version 1.40 release are covered in the <A
HREF="http://www.zap.tartarus.org/documentation/changes.html"><CODE>ZapResources:Docs.Changes</CODE></A> file.
</P>

<P>
Zap's history prior to version 1.35 will hopefully be made available on <A HREF="http://www.zap.tartarus.org/">the Zap web site</a> at some point.
</P>

<LI><H3><a name="q19">What is planned for future versions?</a></H3>

<P>
James Aylett is maintaining a combined bug and wishlist. You can access it
through the <A
HREF="http://cvs.tartarus.org/zap/sja-notes/Buglist,fff">CVS
gateway</A>. (Simply select the revision with the highest number, which will
be at the top.)
</P>

<LI><H3><a name="q20">Is there a list of known bugs somewhere?</a></H3>

<P>
James Aylett is maintaining a combined bug and wishlist. You can access it
through the <A
HREF="http://cvs.tartarus.org/zap/sja-notes/Buglist,fff">CVS
gateway</A>. (Simply select the revision with the highest number, which will
be at the top.)
</P>

<LI><H3><a name="q21">Are there mailing lists where people discuss Zap?</a></H3>

<P>
Yes; see the <A HREF="http://www.zap.tartarus.org/lists.html">page about the lists</A> on the web site.
</P>

<LI><H3><a name="q22">I've found a bug! What should I do?</a></H3>

<P>
Tell us about it. Please send bug reports to <A HREF="mailto:bugs@zap.tartarus.org">bugs@zap.tartarus.org</A>, and <STRONG>not</STRONG> to any of the mailing lists.
</P>

</OL>

<HR>

<ADDRESS>
<A HREF="/copyright.html">&copy; Copyright Zap Developers 2000. All rights reserved.</A>
<BR>Updated: $Date: 2001/07/23 16:14:13 $. <A HREF="mailto:webmaster@zap.tartarus.org">webmaster@zap.tartarus.org</A>
</ADDRESS>

<MAP NAME="map">
<AREA ALT="Latest release" SHAPE=RECT COORDS="463,7,585,25" HREF="ftp://zap.tartarus.org/pub/stable/">
<AREA ALT="Download" SHAPE=RECT COORDS="497,35,586,52" HREF="/download.html">
<AREA ALT="Documentation" SHAPE=RECT COORDS="275,7,405,25" HREF="/documentation/">
<AREA ALT="Contact" SHAPE=RECT COORDS="335,35,405,52" HREF="/contact.html">
<AREA ALT="Zap homepage" SHAPE=RECT COORDS="58,0,102,81" HREF="/">
</MAP>

</BODY>

</HTML>
